/* SendButton.module.css */
.button {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 1rem 2rem;
  /* App Theme Gradient */
  background: linear-gradient(to right, #14b8a6, #9333ea);
  color: white;
  font-weight: 600;
  font-size: 1rem;
  border-radius: 9999px; /* Rounded full */
  overflow: hidden;
  cursor: pointer;
  border: none;
  transition: all 0.3s ease;
  min-height: 56px; /* Ensure sufficient touch target / visual weight */
}

.button:disabled {
  opacity: 0.8;
  cursor: not-allowed;
}

.button:active:not(:disabled) {
  transform: scale(0.98);
}

.textContainer {
  display: block;
  transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1), opacity 0.4s ease;
  white-space: nowrap; /* Prevent wrap */
}

/* Hover Effect: Text slides out to right */
.button:hover:not(:disabled):not(.success) .textContainer {
  transform: translateX(150%);
  opacity: 0;
}

.iconWrapper {
  position: absolute;
  left: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Hover Effect: Icon moves to center */
.button:hover:not(:disabled):not(.success) .iconWrapper {
  left: 50%;
  transform: translateX(-50%) scale(1.2) rotate(45deg); /* Slight rotation for plane */
}

/* Loading State */
.loading .iconWrapper {
  left: 1.5rem; /* Keep spinner at left or center? User layout implies left usually. */
}

/* Success State: Fly out animation */
.success .iconWrapper {
  animation: flyOut 0.6s forwards ease-in;
}

.successIconWrapper {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  color: white;
}

.success .successIconWrapper {
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
  transition-delay: 0.2s; /* Wait a bit for fly out start */
}

@keyframes flyOut {
  0% { transform: translateX(0) scale(1) rotate(0deg); }
  40% { transform: translate(100%, -100%) scale(0.8) rotate(45deg); opacity: 1; }
  100% { transform: translate(250%, -250%) scale(0.5) rotate(45deg); opacity: 0; }
}
